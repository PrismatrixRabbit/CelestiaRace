<?xml version="1.0" encoding="utf-8"?>
<Defs>

    <HediffDef Name="Celes_DustMechRhythmBase" Abstract="True">
        <hediffClass>HediffWithComps</hediffClass>
        <defaultLabelColor>(0.6, 0.6, 1.0)</defaultLabelColor>
    </HediffDef>

    <!-- ========== 标准节律 ========== -->

    <HediffDef ParentName="Celes_DustMechRhythmBase">
        <defName>Celes_DustMechRhythm_Standard</defName>
        <label>Celes_DustMechRhythm_Standard</label>
        <description>Celes_DustMechRhythm_Standard</description>
        <descriptionHyperlinks>
            <HediffDef>Celes_DustMechRhythm_Activity</HediffDef>
            <HediffDef>Celes_DustMechRhythm_Dormant</HediffDef>
            <HediffDef>Celes_DustMechRhythm_Military</HediffDef>
            <RecipeDef>Celes_ActiveDustMechRhythm_Standard</RecipeDef>
        </descriptionHyperlinks>
        <isBad>false</isBad>
        <initialSeverity>0.001</initialSeverity>
        <minSeverity>0</minSeverity>
        <maxSeverity>1.0</maxSeverity>
        <stages>
            <li>
                <minSeverity>0.001</minSeverity>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
            </li>
        </stages>
        <comps>
            <li Class="CelesFeature.Celes_HediffCompProperties_CapacityCheck">
                <targetHediff>Celes_DustMechRhythm_ProtocolIII</targetHediff>
                <CapacityToCheck>Consciousness</CapacityToCheck>
                <SeverityToCheck>0.40</SeverityToCheck>
                <HPCheck>0.90</HPCheck>
            </li>
            <li Class="HediffCompProperties_RemoveIfOtherHediff">
                <hediffs>
                    <li>Celes_DustMechRhythm_Military</li>
                </hediffs>
                <stages>0~</stages>
                <mtbHours>0</mtbHours>
                <message>{0} is no longer .</message>
                <messageType>SilentInput</messageType>
                <onlyMessageForColonistsOrPrisoners>true</onlyMessageForColonistsOrPrisoners>
            </li>
            <!--<li Class="HediffCompProperties_SeverityPerDay">
                <severityPerDay>0.16</severityPerDay>
                <showHoursToRecover>true</showHoursToRecover>
            </li>
            <li Class="CelesFeature.Celes_HediffCompProperties_Jumper">
                <targetHediff>Celes_NanoImplanted_II</targetHediff>
            </li>-->
        </comps>
    </HediffDef>

    <HediffDef ParentName="Celes_DustMechRhythmBase">
        <defName>Celes_DustMechRhythm_ProtocolIII</defName>
        <label>Celes_DustMechRhythm_ProtocolIII</label>
        <description>Celes_DustMechRhythm_ProtocolIII</description>
        <descriptionHyperlinks>
            <HediffDef>Celes_DustMechRhythm_Standard</HediffDef>
        </descriptionHyperlinks>
        <isBad>false</isBad>
        <initialSeverity>1.0</initialSeverity>
        <minSeverity>0.001</minSeverity>
        <maxSeverity>1.0</maxSeverity>
        <tendable>true</tendable>
        <stages>
            <li>
                <label>Exhaustion</label>
                <statOffsets>
                    <InjuryHealingFactor>0.75</InjuryHealingFactor>
                    <RestFallRateFactor>1.0</RestFallRateFactor>
                </statOffsets>
                <statFactors>
                    <WorkSpeedGlobal>0.5</WorkSpeedGlobal>
                </statFactors>
                <painFactor>0.65</painFactor>
                <totalBleedFactor>0.5</totalBleedFactor>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <setMax>0.9</setMax>
                    </li>
                </capMods>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
            </li>
            <li>
                <label>Stress</label>
                <minSeverity>0.34</minSeverity>
                <statOffsets>
                    <InjuryHealingFactor>2.0</InjuryHealingFactor>
                </statOffsets>
                <painFactor>0.1</painFactor>
                <totalBleedFactor>0.2</totalBleedFactor>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <setMax>0.1</setMax>
                    </li>
                </capMods>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
            </li>
            <li>
                <label>Prepare</label>
                <minSeverity>0.98</minSeverity>
                <painFactor>0.9</painFactor>
                <totalBleedFactor>0.5</totalBleedFactor>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
            </li>
        </stages>
        <comps>
            <li Class="HediffCompProperties_SeverityPerDay">
                <severityPerDay>-0.5</severityPerDay>
                <showHoursToRecover>true</showHoursToRecover>
            </li>
            <li Class="HediffCompProperties_TendDuration">
                <baseTendDurationHours>24</baseTendDurationHours>
                <severityPerDayTended>-3.0</severityPerDayTended>
            </li>
            <li Class="CelesFeature.Celes_HediffCompProperties_Jumper">
                <targetHediff>Celes_DustMechRhythm_Standard</targetHediff>
                <minToJump>true</minToJump>
            </li>
            <li Class="HediffCompProperties_MessageAboveSeverity">
                <severity>0.99</severity>
                <messageType>CautionInput</messageType>
                <message>{0} has triggered the Protocol III.</message>
            </li>
        </comps>
    </HediffDef>

    <HediffDef ParentName="Celes_DustMechRhythmBase">
        <defName>Celes_DustMechRhythm_Activity</defName>
        <label>Celes_DustMechRhythm_Activity</label>
        <description>Celes_DustMechRhythm_Activity</description>
        <descriptionHyperlinks>
            <HediffDef>Celes_DustMechRhythm_Standard</HediffDef>
            <HediffDef>Celes_DustMechRhythm_Dormant</HediffDef>
            <HediffDef>Celes_DustMechRhythm_Military</HediffDef>
            <RecipeDef>Celes_ActiveDustMechRhythm_Standard</RecipeDef>
            <RecipeDef>Celes_RemoveDustMechRhythm_ActivityForCeles</RecipeDef>
        </descriptionHyperlinks>
        <isBad>false</isBad>
        <initialSeverity>1.0</initialSeverity>
        <minSeverity>0.001</minSeverity>
        <maxSeverity>1.0</maxSeverity>
        <stages>
            <li>
                <label>Working</label>
                <painOffset>0.4</painOffset>
                <statOffsets>
                    <ImmunityGainSpeed>0.35</ImmunityGainSpeed>
                    <RestFallRateFactor>1.0</RestFallRateFactor>
                    <InjuryHealingFactor>1.0</InjuryHealingFactor>
                </statOffsets>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
                <capMods>
                    <li>
                        <capacity>Manipulation</capacity>
                        <offset>0.35</offset>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <offset>0.35</offset>
                    </li>
                    <li>
                        <capacity>BloodPumping</capacity>
                        <offset>0.35</offset>
                    </li>
                    <li>
                        <capacity>Sight</capacity>
                        <offset>0.35</offset>
                    </li>
                    <li>
                        <capacity>Hearing</capacity>
                        <offset>0.35</offset>
                    </li>
                    <li>
                        <capacity>Talking</capacity>
                        <offset>0.35</offset>
                    </li>
                </capMods>
            </li>
            <li>
                <label>Prepare</label>
                <minSeverity>0.980</minSeverity>
                <painOffset>0.2</painOffset>
                <statOffsets>
                    <ImmunityGainSpeed>0.25</ImmunityGainSpeed>
                    <RestFallRateFactor>1.0</RestFallRateFactor>
                </statOffsets>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
                <capMods>
                    <li>
                        <capacity>Manipulation</capacity>
                        <offset>0.15</offset>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <offset>0.15</offset>
                    </li>
                    <li>
                        <capacity>BloodPumping</capacity>
                        <offset>0.15</offset>
                    </li>
                </capMods>
            </li>
        </stages>
        <comps>
            <li Class="HediffCompProperties_SeverityPerDay">
                <severityPerDay>-0.6</severityPerDay>
                <showHoursToRecover>true</showHoursToRecover>
            </li>
            <li Class="CelesFeature.Celes_HediffCompProperties_Jumper">
                <targetHediff>Celes_DustMechRhythm_Overactivity</targetHediff>
                <minToJump>true</minToJump>
                <useRace>True</useRace>
                <specialRace>
                    <li>Celes_Race</li>
                </specialRace>
                <hediffForSpRace>Celes_DustMechRhythm_Dormant</hediffForSpRace>
            </li>
            <li Class="CelesFeature.Celes_HediffCompProperties_CapacityCheck">
                <targetHediff>Celes_DustMechRhythm_ProtocolIII</targetHediff>
                <CapacityToCheck>Consciousness</CapacityToCheck>
                <SeverityToCheck>0.40</SeverityToCheck>
                <HPCheck>0.90</HPCheck>
            </li>
        </comps>
    </HediffDef>

    <HediffDef ParentName="Celes_DustMechRhythmBase">
        <defName>Celes_DustMechRhythm_Dormant</defName>
        <label>Celes_DustMechRhythm_Dormant</label>
        <description>Celes_DustMechRhythm_Dormant</description>
        <descriptionHyperlinks>
            <HediffDef>Celes_DustMechRhythm_Standard</HediffDef>
            <HediffDef>Celes_DustMechRhythm_Activity</HediffDef>
            <HediffDef>Celes_DustMechRhythm_Military</HediffDef>
            <RecipeDef>Celes_RemoveDustMechRhythm_ActivityForCeles</RecipeDef>
        </descriptionHyperlinks>
        <isBad>false</isBad>
        <initialSeverity>1.0</initialSeverity>
        <minSeverity>0.001</minSeverity>
        <maxSeverity>1.0</maxSeverity>
        <stages>
            <li>
                <painOffset>0.10</painOffset>
                <statFactors>
                    <InjuryHealingFactor>0.5</InjuryHealingFactor>
                    <WorkSpeedGlobal>0.5</WorkSpeedGlobal>
                </statFactors>
                <statOffsets>
                    <RestFallRateFactor>1.0</RestFallRateFactor>
                </statOffsets>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <postFactor>0.9</postFactor>
                    </li>
                </capMods>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
            </li>
        </stages>
        <comps>
            <li Class="HediffCompProperties_SeverityPerDay">
                <severityPerDay>-1.0</severityPerDay>
                <showHoursToRecover>true</showHoursToRecover>
            </li>
            <li Class="CelesFeature.Celes_HediffCompProperties_Jumper">
                <targetHediff>Celes_DustMechRhythm_Standard</targetHediff>
                <minToJump>true</minToJump>
            </li>
        </comps>
    </HediffDef>

    <!-- ========== 军规节律 ========== -->

    <HediffDef ParentName="Celes_DustMechRhythmBase">
        <defName>Celes_DustMechRhythm_Military</defName>
        <label>Celes_DustMechRhythm_Military</label>
        <description>Celes_DustMechRhythm_Military</description>
        <descriptionHyperlinks>
            <HediffDef>Celes_DustMechRhythm_Standard</HediffDef>
            <RecipeDef>Celes_ActiveDustMechRhythm_Standard</RecipeDef>
        </descriptionHyperlinks>
        <isBad>false</isBad>
        <initialSeverity>0.001</initialSeverity>
        <minSeverity>0</minSeverity>
        <maxSeverity>1.0</maxSeverity>
        <stages>
            <li>
                <minSeverity>0.001</minSeverity>
                <hungerRateFactor>0.5</hungerRateFactor>
                <statFactors>
                    <WorkSpeedGlobal>0.8</WorkSpeedGlobal>
                    <RestFallRateFactor>0.8</RestFallRateFactor>
                    <IncomingDamageFactor>0.8</IncomingDamageFactor>
                    <AimingDelayFactor>0.75</AimingDelayFactor>
                </statFactors>
                <statOffsets>
                    <InjuryHealingFactor>2.0</InjuryHealingFactor>
                    <MentalBreakThreshold>-0.10</MentalBreakThreshold>
                    <MeleeDodgeChance>5.0</MeleeDodgeChance>
                    <MeleeHitChance>5.0</MeleeHitChance>
                    <ShootingAccuracyPawn>7.0</ShootingAccuracyPawn>
                </statOffsets>
                <painFactor>0.8</painFactor>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>0.1</offset>
                    </li>
                </capMods>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
            </li>
        </stages>
        <comps>
            <li Class="CelesFeature.Celes_HediffCompProperties_CapacityCheck">
                <targetHediff>Celes_DustMechRhythm_ProtocolII</targetHediff>
                <CapacityToCheck>Consciousness</CapacityToCheck>
                <SeverityToCheck>0.97</SeverityToCheck>
                <HPCheck>0.50</HPCheck>
            </li>
        </comps>
    </HediffDef>

    <HediffDef ParentName="Celes_DustMechRhythmBase">
        <defName>Celes_DustMechRhythm_ProtocolII</defName>
        <label>Celes_DustMechRhythm_ProtocolII</label>
        <description>Celes_DustMechRhythm_ProtocolII</description>
        <descriptionHyperlinks>
            <HediffDef>Celes_DustMechRhythm_Military</HediffDef>
        </descriptionHyperlinks>
        <isBad>false</isBad>
        <initialSeverity>1.0</initialSeverity>
        <minSeverity>0.001</minSeverity>
        <maxSeverity>1.0</maxSeverity>
        <stages>
            <li>
                <label>Exhaustion</label>
                <statFactors>
                    <WorkSpeedGlobal>0.2</WorkSpeedGlobal>
                    <RestFallRateFactor>0.5</RestFallRateFactor>
                </statFactors>
                <statOffsets>
                    <InjuryHealingFactor>4.0</InjuryHealingFactor>
                    <MentalBreakThreshold>-0.1</MentalBreakThreshold>
                </statOffsets>
                <painFactor>2.0</painFactor>
                <totalBleedFactor>0.2</totalBleedFactor>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <setMax>0.5</setMax>
                    </li>
                </capMods>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
            </li>
            <li>
                <label>Stress</label>
                <minSeverity>0.66</minSeverity>
                <hungerRateFactor>0.1</hungerRateFactor>
                <statFactors>
                    <WorkSpeedGlobal>0.5</WorkSpeedGlobal>
                    <RestFallRateFactor>0.5</RestFallRateFactor>
                    <StaggerDurationFactor>0</StaggerDurationFactor>
                    <IncomingDamageFactor>0.25</IncomingDamageFactor>
                    <AimingDelayFactor>0.66</AimingDelayFactor>
                </statFactors>
                <statOffsets>
                    <InjuryHealingFactor>2.0</InjuryHealingFactor>
                    <MentalBreakThreshold>-0.25</MentalBreakThreshold>
                    <MeleeDodgeChance>7.5</MeleeDodgeChance>
                    <MeleeHitChance>7.5</MeleeHitChance>
                    <ShootingAccuracyPawn>9.0</ShootingAccuracyPawn>
                </statOffsets>
                <painFactor>0.1</painFactor>
                <totalBleedFactor>0.05</totalBleedFactor>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>0.3</offset>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <offset>0.35</offset>
                    </li>
                    <li>
                        <capacity>Sight</capacity>
                        <offset>0.35</offset>
                    </li>
                    <li>
                        <capacity>Hearing</capacity>
                        <offset>0.35</offset>
                    </li>
                </capMods>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
            </li>
        </stages>
        <comps>
            <li Class="HediffCompProperties_SeverityPerDay">
                <severityPerDay>-1.0</severityPerDay>
                <showHoursToRecover>true</showHoursToRecover>
            </li>
            <li Class="CelesFeature.Celes_HediffCompProperties_Jumper">
                <targetHediff>Celes_DustMechRhythm_Military</targetHediff>
                <minToJump>true</minToJump>
            </li>
            <li Class="HediffCompProperties_MessageAboveSeverity">
                <severity>0.99</severity>
                <messageType>CautionInput</messageType>
                <message>{0} has triggered the Protocol II.</message>
            </li>
        </comps>
    </HediffDef>

    <!--<HediffDef ParentName="Celes_DustMechRhythmBase">
        <defName>Celes_DustMechRhythm_MilitaryActivity</defName>
        <label>Celes_DustMechRhythm_MilitaryActivity</label>
        <description>Celes_DustMechRhythm_MilitaryActivity</description>
        <descriptionHyperlinks>
            <RecipeDef>Celes_ImplantNanomachine</RecipeDef>
            <HediffDef>Celes_NanoImplanted_III</HediffDef>
        </descriptionHyperlinks>
        <isBad>false</isBad>
        <initialSeverity>1.0</initialSeverity>
        <minSeverity>0.001</minSeverity>
        <maxSeverity>1.0</maxSeverity>
        <stages>
            <li>
                <label>Prepare</label>
                <minSeverity>0.980</minSeverity>
                <painOffset>0.25</painOffset>
                <statOffsets>
                    <WorkSpeedGlobal>0.75</WorkSpeedGlobal>
                    <RestFallRateFactor>0.8</RestFallRateFactor>
                    <ImmunityGainSpeed>0.25</ImmunityGainSpeed>
                    <MeleeDodgeChance>3.0</MeleeDodgeChance>
                    <MeleeHitChance>4.0</MeleeHitChance>
                    <ShootingAccuracyPawn>5.0</ShootingAccuracyPawn>
                </statOffsets>
                <statFactors>
                    <RestFallRateFactor>1.0</RestFallRateFactor>
                    <AimingDelayFactor>0.75</AimingDelayFactor>
                </statFactors>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>0.1</offset>
                    </li>
                    <li>
                        <capacity>Manipulation</capacity>
                        <offset>0.10</offset>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <offset>0.10</offset>
                    </li>
                </capMods>
            </li>
            <li>
                <label>Working</label>
                <painOffset>0.45</painOffset>
                <statOffsets>
                    <ImmunityGainSpeed>0.35</ImmunityGainSpeed>
                </statOffsets>
                <statFactors>
                    <RestFallRateFactor>1.0</RestFallRateFactor>
                </statFactors>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>0.15</offset>
                    </li>
                    <li>
                        <capacity>Manipulation</capacity>
                        <offset>0.30</offset>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <offset>0.30</offset>
                    </li>
                    <li>
                        <capacity>Sight</capacity>
                        <offset>0.35</offset>
                    </li>
                    <li>
                        <capacity>Hearing</capacity>
                        <offset>0.35</offset>
                    </li>
                    <li>
                        <capacity>Talking</capacity>
                        <offset>0.30</offset>
                    </li>
                </capMods>
            </li>
        </stages>
        <comps>
            <li Class="HediffCompProperties_SeverityPerDay">
                <severityPerDay>-1.0</severityPerDay>
                <showHoursToRecover>true</showHoursToRecover>
            </li>
            <li Class="CelesFeature.Celes_HediffCompProperties_Jumper">
                <targetHediff>Celes_DustMechRhythm_Overactivity</targetHediff>
                <useRace>True</useRace>
                <specialRace>
                    <li>Celes_Race</li>
                </specialRace>
                <hediffForSpRace>Celes_DustMechRhythm_Military</hediffForSpRace>
            </li>
        </comps>
    </HediffDef>-->

    <!--<HediffDef ParentName="Celes_DustMechRhythmBase">
        <defName>Celes_DustMechRhythm_MilitaryDormant</defName>
        <label>Celes_DustMechRhythm_MilitaryDormant</label>
        <description>Celes_DustMechRhythm_MilitaryDormant</description>
        <descriptionHyperlinks>
            <RecipeDef>Celes_ImplantNanomachine</RecipeDef>
            <HediffDef>Celes_NanoImplanted_III</HediffDef>
        </descriptionHyperlinks>
        <isBad>false</isBad>
        <initialSeverity>0.001</initialSeverity>
        <minSeverity>0</minSeverity>
        <maxSeverity>1.0</maxSeverity>
        <stages>
            <li>
                <minSeverity>0.001</minSeverity>
                <statOffsets>
                    <InjuryHealingFactor>2.5</InjuryHealingFactor>
                    <ImmunityGainSpeed>0.4</ImmunityGainSpeed>
                </statOffsets>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
                <painOffset>0.1</painOffset>
                <totalBleedFactor>0.5</totalBleedFactor>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <setMax>0.1</setMax>
                    </li>
                </capMods>
            </li>
        </stages>
        <comps>
            <li Class="HediffCompProperties_SeverityPerDay">
                <severityPerDay>3.0</severityPerDay>
                <showHoursToRecover>true</showHoursToRecover>
            </li>
            <li Class="CelesFeature.Celes_HediffCompProperties_Jumper">
                <targetHediff>Celes_DustMechRhythm_Standard</targetHediff>
            </li>
        </comps>
    </HediffDef>-->

    <!-- ========== 人类节律 ========== -->

    <HediffDef ParentName="Celes_DustMechRhythmBase">
        <defName>Celes_DustMechRhythm_Overactivity</defName>
        <label>Celes_DustMechRhythm_Overactivity</label>
        <description>Celes_DustMechRhythm_Overactivity</description>
        <descriptionHyperlinks>
            <HediffDef>Celes_DustMechRhythm_Activity</HediffDef>
            <RecipeDef>Celes_ImplantDustMechRhythm</RecipeDef>
            <RecipeDef>Celes_RemoveCeles_DustMechRhythm_Overactivity</RecipeDef>
        </descriptionHyperlinks>
        <isBad>true</isBad>
        <initialSeverity>1.0</initialSeverity>
        <minSeverity>0.001</minSeverity>
        <maxSeverity>1.0</maxSeverity>
        <stages>
            <li>
                <label>Working</label>
                <painOffset>0.75</painOffset>
                <lifeThreatening>true</lifeThreatening>
                <statOffsets>
                    <ImmunityGainSpeed>0.35</ImmunityGainSpeed>
                    <RestFallRateFactor>3.0</RestFallRateFactor>
                    <InjuryHealingFactor>3.0</InjuryHealingFactor>
                </statOffsets>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
                <capMods>
                    <li>
                        <capacity>Manipulation</capacity>
                        <offset>0.65</offset>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <offset>0.65</offset>
                    </li>
                    <li>
                        <capacity>BloodPumping</capacity>
                        <offset>0.35</offset>
                    </li>
                    <li>
                        <capacity>Sight</capacity>
                        <offset>0.35</offset>
                    </li>
                    <li>
                        <capacity>Hearing</capacity>
                        <offset>0.35</offset>
                    </li>
                    <li>
                        <capacity>Talking</capacity>
                        <offset>0.35</offset>
                    </li>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>-0.35</offset>
                    </li>
                </capMods>
                <hediffGivers>
                    <li Class="HediffGiver_RandomDrugEffect">
                        <hediff>ChemicalDamageSevere</hediff>
                        <severityToMtbDaysCurve>
                            <points>
                                <li>(0.25, 1)</li>
                                <li>(0.01, 0.25)</li>
                            </points>
                        </severityToMtbDaysCurve>
                        <partsToAffect>
                            <li>Liver</li>
                            <li>Kidney</li>
                            <li>Lung</li>
                            <li>Stomach</li>
                            <li>Heart</li>
                        </partsToAffect>
                    </li>
                    <li Class="HediffGiver_RandomDrugEffect">
                        <hediff>Dementia</hediff>
                        <severityToMtbDaysCurve>
                            <points>
                                <li>(0.25, 1)</li>
                                <li>(0.01, 0.25)</li>
                            </points>
                        </severityToMtbDaysCurve>
                        <partsToAffect>
                            <li>Brain</li>
                        </partsToAffect>
                    </li>
                </hediffGivers>
            </li>
            <li>
                <label>Overworking</label>
                <minSeverity>0.25</minSeverity>
                <painOffset>0.6</painOffset>
                <lifeThreatening>true</lifeThreatening>
                <statOffsets>
                    <ImmunityGainSpeed>0.35</ImmunityGainSpeed>
                    <RestFallRateFactor>1.5</RestFallRateFactor>
                    <InjuryHealingFactor>3.0</InjuryHealingFactor>
                </statOffsets>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
                <capMods>
                    <li>
                        <capacity>Manipulation</capacity>
                        <offset>0.65</offset>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <offset>0.65</offset>
                    </li>
                    <li>
                        <capacity>BloodPumping</capacity>
                        <offset>0.35</offset>
                    </li>
                    <li>
                        <capacity>Sight</capacity>
                        <offset>0.35</offset>
                    </li>
                    <li>
                        <capacity>Hearing</capacity>
                        <offset>0.35</offset>
                    </li>
                    <li>
                        <capacity>Talking</capacity>
                        <offset>0.35</offset>
                    </li>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>-0.15</offset>
                    </li>
                </capMods>
            </li>
        </stages>
        <comps>
            <li Class="HediffCompProperties_SeverityPerDay">
                <severityPerDay>-1.0</severityPerDay>
                <showHoursToRecover>true</showHoursToRecover>
            </li>
            <li Class="CelesFeature.Celes_HediffCompProperties_Jumper">
                <targetHediff>Celes_DustMechRhythm_Extreme</targetHediff>
                <minToJump>true</minToJump>
                <useRace>True</useRace>
                <specialRace>
                    <li>Celes_Race</li>
                </specialRace>
                <hediffForSpRace>Celes_DustMechRhythm_Dormant</hediffForSpRace>
            </li>
            <li Class="HediffCompProperties_Discoverable">
                <sendLetterWhenDiscovered>true</sendLetterWhenDiscovered>
            </li>
        </comps>
    </HediffDef>

    <HediffDef ParentName="Celes_DustMechRhythmBase">
        <defName>Celes_DustMechRhythm_Extreme</defName>
        <label>Celes_DustMechRhythm_Extreme</label>
        <description>Celes_DustMechRhythm_Extreme</description>
        <descriptionHyperlinks>
            <HediffDef>Celes_DustMechRhythm_Activity</HediffDef>
            <HediffDef>Celes_DustMechRhythm_Overactivity</HediffDef>
            <RecipeDef>Celes_ImplantDustMechRhythm</RecipeDef>
        </descriptionHyperlinks>
        <isBad>true</isBad>
        <initialSeverity>1.0</initialSeverity>
        <minSeverity>0.001</minSeverity>
        <maxSeverity>1.0</maxSeverity>
        <lethalSeverity>0.001</lethalSeverity>
        <stages>
            <li>
                <label>Working</label>
                <painOffset>0.80</painOffset>
                <lifeThreatening>true</lifeThreatening>
                <statOffsets>
                    <ImmunityGainSpeed>0.35</ImmunityGainSpeed>
                    <RestFallRateFactor>3.0</RestFallRateFactor>
                    <InjuryHealingFactor>3.0</InjuryHealingFactor>
                </statOffsets>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <setMax>0.1</setMax>
                    </li>
                </capMods>
                <hediffGivers>
                    <li Class="HediffGiver_RandomDrugEffect">
                        <hediff>ChemicalDamageSevere</hediff>
                        <severityToMtbDaysCurve>
                            <points>
                                <li>(1.00, 0.25)</li>
                                <li>(0.01, 0.15)</li>
                            </points>
                        </severityToMtbDaysCurve>
                        <partsToAffect>
                            <li>Liver</li>
                            <li>Kidney</li>
                            <li>Lung</li>
                            <li>Stomach</li>
                            <li>Heart</li>
                        </partsToAffect>
                    </li>
                    <li Class="HediffGiver_RandomDrugEffect">
                        <hediff>Dementia</hediff>
                        <severityToMtbDaysCurve>
                            <points>
                                <li>(1.00, 0.25)</li>
                                <li>(0.01, 0.15)</li>
                            </points>
                        </severityToMtbDaysCurve>
                        <partsToAffect>
                            <li>Brain</li>
                        </partsToAffect>
                    </li>
                </hediffGivers>
            </li>
        </stages>
        <comps>
            <li Class="HediffCompProperties_SeverityPerDay">
                <severityPerDay>-4.0</severityPerDay>
                <showHoursToRecover>true</showHoursToRecover>
            </li>
            <li Class="CelesFeature.Celes_HediffCompProperties_SpawnOnDeath">
                <spawnPawn>false</spawnPawn>
                <spawnThing>Celes_NanoCrystallisedCorpse</spawnThing>
                <spawnCount>1</spawnCount>
            </li>
            <li Class="HediffCompProperties_Discoverable">
                <sendLetterWhenDiscovered>true</sendLetterWhenDiscovered>
            </li>
        </comps>
        <renderNodeProperties>
            <li Class="PawnRenderNodeProperties_Eye">
                <workerClass>PawnRenderNodeWorker_HediffEye</workerClass>
                <texPath>Celes/Wounds/CrystallisedEye</texPath>
                <parentTagDef>Head</parentTagDef>
                <drawSize>0.20</drawSize>
                <drawData>
                    <defaultData>
                        <layer>51</layer>
                    </defaultData>
                    <dataSouth>
                        <offset>(-0.09, 0, -0.07)</offset>
                    </dataSouth>
                    <dataEast>
                        <offset>(0.18, 0, -0.07)</offset>
                    </dataEast>
                    <dataWest>
                        <flip>true</flip>
                    </dataWest>
                </drawData>
            </li>
        </renderNodeProperties>
    </HediffDef>

    <HediffDef ParentName="Celes_DustMechRhythmBase">
        <defName>Celes_DustMechRhythm_DormantHuman</defName>
        <label>Celes_DustMechRhythm_DormantHuman</label>
        <description>Celes_DustMechRhythm_DormantHuman</description>
        <descriptionHyperlinks>
            <HediffDef>Celes_DustMechRhythm_Activity</HediffDef>
            <HediffDef>Celes_DustMechRhythm_Overactivity</HediffDef>
            <RecipeDef>Celes_RemoveDustMechRhythm_ActivityForHuman</RecipeDef>
        </descriptionHyperlinks>
        <isBad>false</isBad>
        <initialSeverity>1.0</initialSeverity>
        <minSeverity>0.001</minSeverity>
        <maxSeverity>1.0</maxSeverity>
        <stages>
            <li>
                <label>minor</label>
                <painOffset>0.10</painOffset>
                <statFactors>
                    <InjuryHealingFactor>0.5</InjuryHealingFactor>
                    <WorkSpeedGlobal>0.5</WorkSpeedGlobal>
                </statFactors>
                <statOffsets>
                    <RestFallRateFactor>1.0</RestFallRateFactor>
                </statOffsets>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <postFactor>0.9</postFactor>
                    </li>
                </capMods>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
            </li>
        </stages>
        <comps>
            <li Class="HediffCompProperties_SeverityPerDay">
                <severityPerDay>-1.0</severityPerDay>
                <showHoursToRecover>true</showHoursToRecover>
            </li>
        </comps>
    </HediffDef>

    <!-- ========== 侍从建构 ========== -->

    <HediffDef ParentName="Celes_DustMechRhythmBase">
        <defName>Celes_DustMechRhythm_Serve</defName>
        <label>Celes_DustMechRhythm_Serve</label>
        <description>Celes_DustMechRhythm_Serve</description>
        <descriptionHyperlinks>
            <HediffDef>Celes_DustMechRhythm_Activity</HediffDef>
            <RecipeDef>Celes_SetDustMechRhythm_Serve</RecipeDef>
        </descriptionHyperlinks>
        <isBad>false</isBad>
        <initialSeverity>0.9</initialSeverity>
        <minSeverity>0.001</minSeverity>
        <maxSeverity>1.0</maxSeverity>
        <disablesNeeds>
            <li>Rest</li>
        </disablesNeeds>
        <stages>
            <li>
                <!--<label>High-Energy</label>-->
                <!--<minSeverity>0.85</minSeverity>-->
                <painFactor>0.1</painFactor>
                <totalBleedFactor>0.2</totalBleedFactor>
                <statOffsets>
                    <!--<SlaveSuppressionOffset MayRequire="Ludeon.RimWorld.Ideology">0.3</SlaveSuppressionOffset> 这玩意jb不让改
                    
                    <ImmunityGainSpeed>0.2</ImmunityGainSpeed>
                    <ArmorRating_Sharp>0.75</ArmorRating_Sharp>
                    <ArmorRating_Blunt>0.30</ArmorRating_Blunt>
                    <ArmorRating_Heat>0.50</ArmorRating_Heat>-->
                    <MentalBreakThreshold>-0.50</MentalBreakThreshold>
                    <InjuryHealingFactor>4.0</InjuryHealingFactor>
                    <PawnBeauty>-4</PawnBeauty>
                    <WorkSpeedGlobal>-0.20</WorkSpeedGlobal>
                </statOffsets>
                <statFactors>
                    <StaggerDurationFactor>0</StaggerDurationFactor>
                    <GlobalLearningFactor>0.1</GlobalLearningFactor>
                    <PsychicSensitivity>0</PsychicSensitivity>
                </statFactors>
                <disabledWorkTags>
                    <li>Intellectual</li>
                    <li>Artistic</li>
                    <li>Social</li>
                </disabledWorkTags>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>-0.30</offset>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <offset>0.40</offset>
                    </li>
                </capMods>
                <mentalStateGivers>
                    <li>
                        <mentalState>Wander_Psychotic</mentalState>
                        <mtbDays>29</mtbDays>
                    </li>
                </mentalStateGivers>
            </li>
            <!--<li>
                <label>Normal-Energy</label>
                <minSeverity>0.5</minSeverity>
                <painFactor>0.1</painFactor>
                <totalBleedFactor>0.2</totalBleedFactor>
                <statOffsets>
                    <MentalBreakThreshold>-0.50</MentalBreakThreshold>
                    <SlaveSuppressionOffset>0.3</SlaveSuppressionOffset>
                    <InjuryHealingFactor>4.0</InjuryHealingFactor>
                    <ImmunityGainSpeed>0.2</ImmunityGainSpeed>
                    <ArmorRating_Sharp>0.75</ArmorRating_Sharp>
                    <ArmorRating_Blunt>0.40</ArmorRating_Blunt>
                    <ArmorRating_Heat>0.30</ArmorRating_Heat>
                    <PawnBeauty>-2</PawnBeauty>
                </statOffsets>
                <statFactors>
                    <PsychicSensitivity>0</PsychicSensitivity>
                    <GlobalLearningFactor>0.05</GlobalLearningFactor>
                </statFactors>
                <disablesNeeds>
                    <li>Rest</li>
                    <li>Food</li>
                </disablesNeeds>
                <disabledWorkTags>
                    <li>Intellectual</li>
                    <li>Artistic</li>
                    <li>Social</li>
                </disabledWorkTags>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>-0.20</offset>
                    </li>
                    <li>
                        <capacity>BloodPumping</capacity>
                        <offset>0.15</offset>
                    </li>
                    <li>
                        <capacity>Sight</capacity>
                        <offset>0.15</offset>
                    </li>
                </capMods>
                <mentalState>
                    <li>
                        <mentalState>Wander_Psychotic</mentalState>
                        <mtbDays>15</mtbDays>
                    </li>
                </mentalState>
            </li>
            <li>
                <label>Low-Energy</label>
                <minSeverity>0.20</minSeverity>
                <painFactor>0.9</painFactor>
                <totalBleedFactor>0.5</totalBleedFactor>
                <statOffsets>
                    <MentalBreakThreshold>-0.20</MentalBreakThreshold>
                    <SlaveSuppressionOffset>0.3</SlaveSuppressionOffset>
                    <InjuryHealingFactor>4.0</InjuryHealingFactor>
                    <ImmunityGainSpeed>0.2</ImmunityGainSpeed>
                    <ArmorRating_Sharp>0.75</ArmorRating_Sharp>
                    <ArmorRating_Blunt>0.40</ArmorRating_Blunt>
                    <ArmorRating_Heat>0.30</ArmorRating_Heat>
                    <PawnBeauty>-2</PawnBeauty>
                </statOffsets>
                <statFactors>
                    <PsychicSensitivity>0</PsychicSensitivity>
                    <GlobalLearningFactor>0.05</GlobalLearningFactor>
                </statFactors>
                <disablesNeeds>
                    <li>Rest</li>
                    <li>Food</li>
                </disablesNeeds>
                <disabledWorkTags>
                    <li>Intellectual</li>
                    <li>Artistic</li>
                    <li>Social</li>
                </disabledWorkTags>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>-0.25</offset>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <postFactor>0.5</postFactor>
                    </li>
                    <li>
                        <capacity>BloodPumping</capacity>
                        <offset>0.15</offset>
                    </li>
                    <li>
                        <capacity>Sight</capacity>
                        <offset>0.15</offset>
                    </li>
                </capMods>
                <mentalState>
                    <li>
                        <mentalState>Wander_Psychotic</mentalState>
                        <mtbDays>5</mtbDays>
                    </li>
                </mentalState>
            </li>
            <li>
                <label>Shutdown</label>
                <painFactor>0.9</painFactor>
                <totalBleedFactor>0.5</totalBleedFactor>
                <statOffsets>
                    <MentalBreakThreshold>-0.20</MentalBreakThreshold>
                    <SlaveSuppressionOffset>0.3</SlaveSuppressionOffset>
                    <InjuryHealingFactor>4.0</InjuryHealingFactor>
                    <ImmunityGainSpeed>0.2</ImmunityGainSpeed>
                    <ArmorRating_Sharp>0.75</ArmorRating_Sharp>
                    <ArmorRating_Blunt>0.40</ArmorRating_Blunt>
                    <ArmorRating_Heat>0.30</ArmorRating_Heat>
                    <PawnBeauty>-2</PawnBeauty>
                </statOffsets>
                <statFactors>
                    <PsychicSensitivity>0</PsychicSensitivity>
                    <GlobalLearningFactor>0.05</GlobalLearningFactor>
                </statFactors>
                <disablesNeeds>
                    <li>Rest</li>
                    <li>Food</li>
                </disablesNeeds>
                <disabledWorkTags>
                    <li>Intellectual</li>
                    <li>Artistic</li>
                    <li>Social</li>
                </disabledWorkTags>
                <makeImmuneTo>
                    <li>FibrousMechanites</li>
                    <li>SensoryMechanites</li>
                </makeImmuneTo>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>-0.50</offset>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <postFactor>0.1</postFactor>
                    </li>
                    <li>
                        <capacity>BloodPumping</capacity>
                        <offset>0.10</offset>
                    </li>
                    <li>
                        <capacity>Sight</capacity>
                        <offset>0.10</offset>
                    </li>
                </capMods>
            </li>-->
        </stages>
        <!--<comps>
            <li Class="HediffCompProperties_SeverityPerDay">
                <severityPerDay>-0.19</severityPerDay>
            </li>
        </comps>-->
        <renderNodeProperties>
            <li Class="PawnRenderNodeProperties_Eye">
                <texPath>Celes/Wounds/ServantMask</texPath>
                <parentTagDef>Head</parentTagDef>
                <drawSize>0.8</drawSize>
                <drawData>
                    <scaleOffsetByBodySize>true</scaleOffsetByBodySize>
                    <defaultData>
                        <layer>61</layer>
                    </defaultData>
                    <dataSouth>
                        <offset>(0, 0, 0)</offset>
                    </dataSouth>
                    <dataEast>
                        <offset>(0, 0, -0.07)</offset>
                    </dataEast>
                    <dataWest>
                        <flip>true</flip>
                    </dataWest>
                </drawData>
            </li>
        </renderNodeProperties>
    </HediffDef>

</Defs>